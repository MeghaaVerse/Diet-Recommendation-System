import pandas as pd

# ðŸ”¢ Basic calorie lookup table (per 100g or common unit)
ingredient_calories = {
  "karela": 17,
    "onion": 40,
    "gram flour": 387,
    "sunflower oil": 884,
    "turmeric": 312,
    "red chilli": 282,
    "coriander": 23,
    "rice": 130,
    "potato": 77,
    "tomato": 18,
    "spinach": 23,
    "milk": 42,
    "paneer": 265,
    "butter": 717,
    "sugar": 387,
    "ghee": 900,
    "salt": 0,
    "curd": 98,
    "chicken": 239,
    "egg": 155,
    "fish": 206,
    "dal": 116,
    "green peas": 81,
    "mustard seeds": 508,
    "cumin seeds": 375,
    "garam masala": 350,
    "green chilli": 40,
    "garlic": 149,
    "ginger": 80,
    "fenugreek": 323,
    "methi leaves": 43,
    "coconut": 354,
    "coconut milk": 230,
    "carrot": 41,
    "beetroot": 43,
    "brinjal": 25,
    "capsicum": 20,
    "cauliflower": 25,
    "cabbage": 25,
    "moong dal": 105,
    "urad dal": 341,
    "masoor dal": 113,
    "toor dal": 343,
    "black pepper": 251,
    "clove": 274,
    "cardamom": 311,
    "bay leaf": 313,
    "cinnamon": 247,
    "jaggery": 383,
    "honey": 304,
    "mint": 44,
    "lemon": 29,
    "banana": 89,
    "apple": 52,
    "mango": 60,
    "pomegranate": 83,
    "water": 0,
    "soybean": 446,
    "almonds": 579,
    "walnuts": 654,
       "cashews": 553,
    "peanuts": 567,
    "pistachios": 562,
    "raisins": 299,
    "dates": 277,
    "figs": 74,
    "amla": 44,
    "guava": 68,
    "papaya": 43,
    "pineapple": 50,
    "orange": 47,
    "grapes": 69,
    "watermelon": 30,
    "muskmelon": 34,
    "sweet lime": 43,
    "chikoo": 83,
    "strawberry": 32,
    "blueberry": 57,
    "blackberry": 43,
    "jackfruit": 95,
    "lychee": 66,
    "plum": 46,
    "peach": 39,
    "apricot": 48,
    "bread": 265,
    "roti": 120,
    "paratha": 260,
    "idli": 58,
    "dosa": 133,
    "upma": 110,
    "poha": 130,
    "samosa": 262,
    "vada": 165,
    "pav": 250,
    "naan": 300,
    "chapati": 104,
    "khichdi": 130,
    "pulao": 150,
    "biryani": 200,
    "kheer": 140,
    "halwa": 250,
    "jalebi": 150,
    "gulab jamun": 170,
    "rasgulla": 186,
    "laddu": 250,
    "barfi": 450,
    "ice cream": 207,
    "coffee": 1,
    "tea": 1,
    "lassi": 150,
    "buttermilk": 40,
    "soup": 40,
    "corn": 96,
    "bhindi": 33,
    "lauki": 15,
    "tinda": 21,
    "parwal": 42,
    "drumstick": 37,
    "arbi": 86,
    "yam": 118,
    "bitter gourd": 17,
      "brinjal": 25,
    "pumpkin": 26,
    "cauliflower": 25,
    "cabbage": 25,
    "carrot": 41,
    "beetroot": 43,
    "turnip": 28,
    "radish": 16,
    "mushroom": 22,
    "spring onion": 32,
    "leeks": 31,
    "garlic": 149,
    "ginger": 80,
    "green peas": 81,
    "soybean": 446,
    "tofu": 76,
    "moong dal": 105,
    "urad dal": 115,
    "masoor dal": 110,
    "chana dal": 122,
    "rajma": 127,
    "chickpeas": 164,
    "black beans": 132,
    "lima beans": 115,
    "kidney beans": 127,
    "cowpeas": 116,
    "bajra": 361,
    "jowar": 349,
    "ragi": 336,
    "maize flour": 365,
    "wheat flour": 364,
    "semolina": 360,
    "cornflakes": 357,
    "oats": 389,
    "noodles": 138,
    "pasta": 131,
    "macaroni": 158,
    "vermicelli": 360,
    "bread crumbs": 395,
    "yeast": 325,
    "coconut": 354,
    "coconut oil": 862,
    "mustard oil": 884,
    "olive oil": 884,
    "sesame oil": 884,
    "soy sauce": 53,
    "vinegar": 21,
    "tomato ketchup": 112,
    "mayonnaise": 680,
    "cheese": 402,
    "cream": 340,
    "whipped cream": 257,
    "ice cubes": 0,
    "lemon": 29,
    "mint": 44,
    "coriander leaves": 23,
    "curry leaves": 108,
    "basil": 23,
    "bay leaf": 313,
      "Aloo Gobi": 25,
    "Raita (Yogurt-based)": 55,
    "Ginger Paste": 80,
    "Garlic Paste": 149,
    "Curry Powder": 325,
    "Coriander Seeds": 298,
    "Saffron": 310,
    "Bay Leaf": 313,
    "Asafoetida (Hing)": 291,
    "Mustard Oil": 884,
    "Chili Flakes": 282,
    "Sambhar Powder": 250,
    "Tamarind Paste": 239,
    "Mango Powder (Amchur)": 234,
    "Ghee (Clarified Butter)": 900,
    "Paneer Tikka": 220,
    "Chicken Tikka": 231,
    "Lassi (Yogurt drink)": 150,
    "Chutney (Mango)": 110,
    "Chutney (Mint)": 55,
    "Cucumber": 16,
    "Fried Onion": 402,
    "Tandoori Masala": 350,
    "Vermicelli Upma": 360,
    "Schezwan Sauce": 58,
    "Poppy Seeds": 525,
    "Lime (Sweet Lime)": 43,
    "Shahi Jeera (Caraway Seeds)": 375,
    "Jaljeera Powder": 280,
    "Khoya (Mawa)": 435,
    "Rawa (Semolina)": 360,
    "Sultanas": 299,
    "Lemon Grass": 99,
    "Chia Seeds": 486,
    "Kalonji (Nigella Seeds)": 369,
    "Aliv (Garden Cress Seeds)": 150,
    "Papad": 400,
    "Coriander Roots": 23,
    "Pine Nuts": 673,
    "Tandoori Chicken": 290,
    "Spinach (Saag)": 23,
    "Amla Juice": 44,
    "Khichuri": 130,
    "Fennel Seeds (Saunf)": 345,
    "Sago (Sabudana)": 358,
    "Chana (Chickpeas)": 164,
    "Soya Chunks": 333,
    "Cucumber Raita": 50,
    "Papaya Salad": 50
}

def estimate_calories(ingredients_str):
    total = 0
    for item, cal in ingredient_calories.items():
        if item in ingredients_str.lower():
            total += cal  # crude estimation, can be improved with quantity parsing
    return total

def add_calorie_column_to_recipes(input_csv='indian_recipes.csv', output_csv='indian_recipes_with_calories.csv'):
    df = pd.read_csv(input_csv)
    df['EstimatedCalories'] = df['TranslatedIngredients'].fillna('').apply(estimate_calories)
    df.to_csv(output_csv, index=False)
    print(f"âœ… Calories added and saved to {output_csv}")
